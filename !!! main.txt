package sample;

import javafx.application.Application;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;
import javafx.scene.control.TextField;
import javafx.scene.control.cell.PropertyValueFactory;
import javafx.scene.image.Image;
import javafx.scene.layout.StackPane;
import javafx.stage.Stage;

public class Main extends Application {



    @Override
    public void start(Stage primaryStage) throws Exception{

        TableView<Item> table = new TableView<>();

       // primaryStage.getIcons().add(new Image("/sample/bg.jpg"));
// ROOT

        //TextField purchName = (TextField) root.lookup("#purchName");



        TableColumn<Item, String> namesCol = new TableColumn<>("titleNames"); //<String, Integer>
        TableColumn<Item, Integer> pricesCol = new TableColumn<>("titlePrices"); //<String, Integer>

        //  в кавычках писать поля класса Item
        namesCol.setCellValueFactory(new PropertyValueFactory<>("purchName"));
        pricesCol.setCellValueFactory(new PropertyValueFactory<>("price"));

        ObservableList<Item> list = getShopList();
        table.setItems(list);

        System.out.println(list.get(list.size()-1).getId() + "  " +
                list.get(list.size()-1).getPurchName() + "  " +
                list.get(list.size()-1).getPrice());


        table.getColumns().addAll(namesCol, pricesCol);

        System.out.println(table.getRowFactory());


        //      Parent root = FXMLLoader.load(getClass().getResource("sample.fxml"));  !!!!!!!!!!!!!
        StackPane root = new StackPane();

    //    root.getChildren().add(table);

        primaryStage.setTitle("Shop list");
        primaryStage.setScene(new Scene(root, 205, 275));





     //   primaryStage.setResizable(false);
        primaryStage.show();
    }

    private ObservableList<Item> getShopList() {
        Item it1 = new Item(111,"pur1", 11);
        Item it2 = new Item(222,"pur2", 22);
        Item it3 = new Item(333,"pur3", 33);

        ObservableList<Item> result;
        result = FXCollections.observableArrayList(it1, it2, it3);
        return result;
    }


    public static void main(String[] args) {
        launch(args);
    }
}
